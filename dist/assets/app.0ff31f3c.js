import{_ as A,j as y,a2 as X,o as g,c as w,C as v,r as q,e as I,G as F,J as Y,E as W,a3 as Z,a4 as ee,T as te,M as O,a5 as p,p as $,k as B,D as oe,K as ne,Q as E,a6 as se,a7 as ae,a8 as re,a9 as ie,aa as ce,ab as le,ac as de,ad as pe,ae as ue,af as he,d as me,u as fe,q as ve,ag as ge,ah as _e,ai as ye}from"./chunks/framework.accd7f10.js";import{t as M}from"./chunks/theme.9b031856.js";import{u as we,c as be}from"./chunks/copname.f3543a5d.js";const Ce={key:0,width:"20",height:"20",t:"1715917545486",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10306",fill:"#2c3e50"},xe={class:"popover-content-wrapper"},Se={__name:"Popover",props:{table:String},emits:["show","hide"],setup(e,{emit:t}){const o=()=>{const{height:a,top:d}=document.querySelector(".navbar").getBoundingClientRect();return a+d},s=t,n=y(!1),r=X();let c={};const l=a=>{const{top:d,left:b,bottom:C,right:u,height:x,width:_}=a.target.getBoundingClientRect();c={top:d,left:b,bottom:C,right:u,height:x,width:_},n.value=!0,s("show")},i=a=>{n.value=!1,s("hide")},f={inserted(a,d,b,C){const u=document.querySelector(".theme-default-content");u&&u.appendChild(a)},componentUpdated(a,d,b,C){const u=document.documentElement.scrollTop||document.body.scrollTop,x=document.documentElement.scrollLeft||document.body.scrollLeft,_=document.documentElement.clientWidth,{width:z,height:D}=a.getBoundingClientRect(),{left:P,top:L,bottom:Fe,right:We,height:N,width:j}=c,S=10,Q=o(),V=z/2,H=j/2,k=D,U=H-V,J=L+u,K=P+x;let h=J-k,R=K+U;L-Q-k-S>0?h=h-S:h=h+(D+N)+S,_-(P+H)-V<0&&(R=_-z),a.style.top=`${h<0?0:h}px`,a.style.left=`${R<0?0:R}px`}};return(a,d)=>(g(),w("div",{class:"popover",onMouseleave:i},[v("span",null,[v("div",{class:"popover-reference-wrapper",onMouseenter:l},[q(a.$slots,"reference",{},void 0,!0),I(r).reference?F("",!0):(g(),w("svg",Ce,d[0]||(d[0]=[v("path",{d:"M512 958.016C266.08 958.016 65.984 757.952 65.984 512 65.984 266.08 266.08 65.984 512 65.984c245.952 0 446.016 200.064 446.016 446.016 0 245.952-200.064 446.016-446.016 446.016z m0-828.032c-210.656 0-382.016 171.36-382.016 382.016 0 210.624 171.36 382.016 382.016 382.016 210.624 0 382.016-171.36 382.016-382.016S722.624 129.984 512 129.984z","p-id":"10307"},null,-1),v("path",{d:"M464 304a1.5 1.5 0 1 0 96 0 1.5 1.5 0 1 0-96 0zM512 768c-17.664 0-32-14.304-32-32V448c0-17.664 14.336-32 32-32s32 14.336 32 32v288c0 17.696-14.336 32-32 32z","p-id":"10308"},null,-1)])))],32)]),Y(te,{name:"fade-in"},{default:W(()=>[Z((g(),w("div",xe,[q(a.$slots,"default",{},void 0,!0)])),[[ee,n.value],[f]])]),_:3})],32))}},Re=A(Se,[["__scopeId","data-v-c7a1d2a2"]]);let Te=0;function Ie(e){return e("svg",{class:"app-redirect-icon",style:{width:"26px",height:"26px"},attrs:{t:Date.now(),viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M597.333333 597.333333h85.333334v-85.333333h85.333333v128h-85.333333v42.666667h-85.333334v-42.666667h-85.333333v-128h85.333333v85.333333z m-384-85.333333h256v256H213.333333v-256z m85.333334 85.333333v85.333334h85.333333v-85.333334H298.666667zM213.333333 213.333333h256v256H213.333333V213.333333z m85.333334 85.333334v85.333333h85.333333V298.666667H298.666667z m213.333333-85.333334h256v256h-256V213.333333z m85.333333 85.333334v85.333333h85.333334V298.666667h-85.333334z m85.333334 384h85.333333v85.333333h-85.333333v-85.333333z m-170.666667 0h85.333333v85.333333h-85.333333v-85.333333z",fill:"#aaa"}})])}function T(){const e=this.$slots.default?this.$slots.default():[];debugger;return e}const Ee={components:{Popover:Re},props:{src:{type:String,default:""}},data(){return{activeIndex:0,appRedirectSrc:"",qrCodeImageClass:`qrcode-img_${++Te}`,qrCodeImageParentDisplay:"none",firstRender:!0}},mounted(){debugger;this.onWindowResize(),this.qrCodeImage=document.querySelector(`img.${this.qrCodeImageClass}`),this.qrCodeImage&&(this.qrCodeImageContainer=this.qrCodeImage.parentElement),window.addEventListener("resize",this.onWindowResize)},beforeDestroy(){window.removeEventListener("resize",this.onWindowResize)},methods:{onWindowResize(){},onClick(e){console.log(e,"onclick"),this.activeIndex=e},createQRCodeSVG(e){if(this.appRedirectSrc)return e("a",{style:{"margin-top":"16px",display:"inline-block","text-decoration":"none"},attrs:{href:this.appRedirectSrc,target:"_blank"}},[e("Popover",{on:{show:()=>{this.appRedirectSrc&&(this.qrCodeImage.src||O(()=>import("./chunks/index.esm.e93d483c.js"),[]).then(({default:t})=>{t.toImage({image:this.qrCodeImage,content:this.appRedirectSrc,width:256,nodeQrCodeOptions:{margin:2}})}))}},scopedSlots:{reference:t=>e("div",{class:"qr-code-button",style:{display:"flex","justify-content":"center","align-items":"center",background:"#f7f8f9",color:"#666",padding:"0 6px","border-radius":"16px","font-size":"14px"}},[Ie(e),e("span",null," 扫码体验（手机浏览器跳转到App直达页）")]),default:t=>e("div",{style:{display:"flex",width:"150px",height:"170px","flex-direction":"column","justify-content":"center","align-items":"center"}},[e("img",{class:this.qrCodeImageClass,style:{width:"150px",height:"150px","max-width":"unset !important"}}),e("span",{style:{"font-weight":"bold"}},"扫码体验")])}})])},wrapHeader(e,t){let o=[];return t.forEach((s,n)=>{console.log(n,"wrapHeader"),o.push(e("p",{class:`pages-tabs-header-text ${this.activeIndex===n?"pages-tabs--active":""}`,onClick:()=>{console.log(n,"click"),this.onClick(n)}},s.title))}),this.renderDom(e,e("div",{class:"page-tabs"},[e("div",{class:"pages-tabs-header"},o),e("div",{class:"page-snippet-code",key:this.activeIndex},[t[this.activeIndex].node])]))},renderDom(e,t){return e("div",{class:"page-runtime",style:{position:"relative"}},[e("div",{class:"page-snippet",style:{height:this.src?"667px":"auto"}},[t]),e("div",{class:"code-content",style:{display:this.src?"block":"none"}},[e("iframe",{class:"code-iframe",src:this.src,frameborder:"0",allow:"geolocation https://hellouniappx.dcloud.net.cn",ref:"codeIframe"})])])}},render(){console.log("----->>",this.src);const e=T.apply(this);debugger;let t=[],o=[];e.forEach((n,r)=>{n.type&&n.children&&o.push(n)});for(let n=0;n<o.length;n++){const r=o[n];let c=r.children.find(l=>l.type==="pre");if(r.type==="div"&&c.type==="pre"){let l=n-1;if(l>=0){let i=o[l];if(i.type==="blockquote"){let f=i.children[0];t.push({title:f.children?f.children:"title",node:r})}}}}this.firstRender=!1;const s=this.createQRCodeSVG(p);return t.length>0?p("div",null,[s,this.wrapHeader(p,t)]):this.src?p("div",null,[s,this.renderDom(p,T.apply(this))]):p("div",null,[s,T.apply(this)])}},Ae=A(Ee,[["__scopeId","data-v-7650366d"]]);const ze=["src"],De={__name:"index",setup(e){const{Layout:t}=M,o=we(),s=$(()=>{let i="http://localhost:7777/#/pages/tab-items-0/demo/";return o.currentName&&(i+=o.currentName),i}),n=y(null),r=y(null),c=y(0);B(()=>{r.value=document.body.clientWidth,n.value=document.body.clientWidth,window.onresize=()=>(()=>{r.value=document.body.clientWidth,c.value=n.value-r.value})()});const l=$(()=>(console.log(c.value),{right:`cale(20% - ${c.value}px)`}));return(i,f)=>(g(),oe(I(t),null,{"aside-outline-before":W(()=>[I(o).currentName?(g(),w("div",{key:0,class:"blog-iframe",style:ne(l.value)},[v("iframe",{width:"100%",height:"100%",frameborder:"0",src:s.value},null,8,ze)],4)):F("",!0)]),_:1}))}},Pe=A(De,[["__scopeId","data-v-8edd5f20"]]),Le=be(),Ve={...M,Layout:Pe,enhanceApp({app:e}){e.use(Le),e.component("CodeSimulator",Ae)}};function G(e){if(e.extends){const t=G(e.extends);return{...t,...e,async enhanceApp(o){t.enhanceApp&&await t.enhanceApp(o),e.enhanceApp&&await e.enhanceApp(o)}}}return e}const m=G(Ve),He=me({name:"VitePressApp",setup(){const{site:e}=fe();return B(()=>{ve(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),ge(),_e(),ye(),m.setup&&m.setup(),()=>p(m.Layout)}});async function ke(){const e=$e(),t=qe();t.provide(ae,e);const o=re(e.route);return t.provide(ie,o),t.component("Content",ce),t.component("ClientOnly",le),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return o.frontmatter.value}},$params:{get(){return o.page.value.params}}}),m.enhanceApp&&await m.enhanceApp({app:t,router:e,siteData:de}),{app:t,router:e,data:o}}function qe(){return pe(He)}function $e(){let e=E,t;return ue(o=>{let s=he(o);return e&&(t=s),(e||t===s)&&(s=s.replace(/\.js$/,".lean.js")),E&&(e=!1),O(()=>import(s),[])},m.NotFound)}E&&ke().then(({app:e,router:t,data:o})=>{t.go().then(()=>{se(t.route,o.site),e.mount("#app")})});export{ke as createApp};
